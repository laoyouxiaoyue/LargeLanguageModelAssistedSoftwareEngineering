# 图片水印工具

一个功能完整的跨平台桌面图片水印应用程序，使用 Go 语言和 Fyne 框架开发。

## ✨ 主要功能

### 📁 文件处理
- **导入图片**: 支持单张图片拖拽或文件选择器导入
- **批量导入**: 可一次性选择多张图片或直接导入整个文件夹
- **图片列表**: 在界面上显示已导入图片的列表（缩略图和文件名）
- **格式支持**: 
  - 输入格式：JPEG, PNG, BMP, TIFF（支持PNG透明通道）
  - 输出格式：用户可选择输出为 JPEG 或 PNG

### 🎨 水印类型
- **文本水印**: 
  - 自定义文本内容
  - 字体大小调节（12-72像素）
  - 颜色选择（支持RGB调色板）
  - 透明度控制（0-100%）
- **图片水印**: 
  - 支持PNG透明通道
  - 自动缩放适配
  - 透明度控制

### 🎯 水印布局与样式
- **实时预览**: 所有调整都在主预览窗口中实时显示
- **位置控制**: 
  - 九宫格布局（左上、上中、右上、左中、中心、右中、左下、下中、右下）
  - 手动位置调节（X、Y坐标）
- **旋转**: 支持0-360度旋转水印
- **效果**: 支持阴影和描边效果（高级功能）

### 📤 导出功能
- **输出设置**: 用户可指定输出文件夹
- **文件命名**: 
  - 保留原文件名
  - 添加自定义前缀/后缀
- **质量控制**: JPEG格式提供质量调节滑块（1-100）
- **缩放**: 支持按百分比缩放输出图片

### 💾 模板管理
- **保存模板**: 将当前水印设置保存为模板
- **加载模板**: 快速应用已保存的模板
- **删除模板**: 管理不需要的模板
- **导入/导出**: 模板可以在不同设备间共享

## 🚀 快速开始

### 环境要求
- Windows 10/11 或 macOS 10.14+
- Go 1.21 或更高版本（仅开发时需要）

### 安装依赖
```bash
go mod tidy
```

### 编译运行
```bash
# 开发模式
go run .

# 编译为可执行文件
# Windows
go build -o watermark-app.exe

# macOS
go build -o watermark-app
```

### 直接运行
下载编译好的可执行文件，双击运行即可。

## 📖 使用说明

详细使用说明请参考 [USAGE.md](USAGE.md)

### 基本使用流程
1. **导入图片** - 选择单张图片或整个文件夹
2. **设置水印** - 配置文本或图片水印参数
3. **调整位置** - 使用九宫格或手动调节位置
4. **预览效果** - 实时查看水印效果
5. **导出图片** - 选择输出格式和质量，开始导出

## 🏗️ 技术架构

- **UI框架**: Fyne v2 - 跨平台原生GUI框架
- **图片处理**: imaging - Go语言图片处理库
- **字体渲染**: golang.org/x/image/font
- **开发语言**: Go 1.21+

## 📁 项目结构

```
watermark-app/
├── main.go              # 主程序文件
├── preview.go           # 预览功能模块
├── controls.go          # 控制面板模块
├── templates.go         # 模板管理模块
├── go.mod              # Go模块依赖
├── go.sum              # 依赖校验文件
├── build.bat           # Windows构建脚本
├── build.sh            # macOS构建脚本
├── README.md           # 项目说明
└── USAGE.md            # 详细使用说明
```

## ✅ 功能完成度

### 已完成功能
- ✅ 基础UI框架和界面布局
- ✅ 图片导入和预览功能
- ✅ 文本水印功能（内容、大小、颜色、透明度）
- ✅ 图片水印功能（PNG透明通道支持）
- ✅ 九宫格位置控制
- ✅ 手动位置调节
- ✅ 旋转功能
- ✅ 实时预览
- ✅ 导出功能（格式选择、质量控制）
- ✅ 文件命名规则（前缀、后缀）
- ✅ 模板管理系统
- ✅ 颜色选择器
- ✅ 高级设置面板

### 特色功能
- 🎨 **直观的界面设计** - 分标签页组织功能
- 🔄 **实时预览** - 所有调整立即显示效果
- 💾 **模板管理** - 保存和复用常用设置
- 🎯 **精确定位** - 九宫格+手动坐标双重定位
- 🌈 **丰富选项** - 颜色、透明度、旋转等全面控制

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

## 📄 许可证

MIT License
